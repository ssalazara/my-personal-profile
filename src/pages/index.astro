---
// src/pages/index.astro
import { getSanityClient } from '@/lib/sanityClient.ts';
import BaseLayout from '@/layouts/BaseLayout.astro';
import ProjectCard from '@/components/organisms/ProjectCard.astro';

// Data fetching remains the same
const client = getSanityClient({
  projectId: import.meta.env.PUBLIC_SANITY_PROJECT_ID,
  dataset: import.meta.env.PUBLIC_SANITY_DATASET,
});
const query = `*[_type == "project"]{title, description, projectUrl}`;
const projects = await client.fetch(query);
---
<BaseLayout title="Simon Salazar - Personal Profile">
  <main class="profile-page">
    <header class="profile-header">
      <h1>Hello, I'm Simon Salazar</h1>
      <p>Welcome to my personal profile page. Here are some of my projects:</p>
    </header>
    
    <section class="projects-grid">
      {projects.map(project => (
        <ProjectCard 
          title={project.title} 
          description={project.description} 
          url={project.projectUrl} 
        />
      ))}
    </section>
  </main>
</BaseLayout>

<style>
  .profile-page {
    max-width: 960px;
    margin: auto;
    padding: 3rem 1.5rem;
  }
  .profile-header {
    text-align: center;
    margin-bottom: 3rem;
  }
  .profile-header h1 {
    font-size: 2.5rem;
    color: #111;
    margin-bottom: 0.5rem;
  }
  .profile-header p {
    font-size: 1.125rem;
    color: #555;
  }
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
  }
</style>